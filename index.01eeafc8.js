!function(){function t(t){return t&&t.__esModule?t.default:t}function n(t,n,e,i){Object.defineProperty(t,n,{get:e,set:i,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in i)return i[t].exports;if(t in a){var n=a[t];delete a[t];var e={id:t,exports:{}};return i[t]=e,n.call(e.exports,e,e.exports),e.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,n){a[t]=n},e.parcelRequired7c6=o),o.register("9cv59",(function(e,i){n(e.exports,"createMarkupCocktail",(function(){return c}));var a=o("9J42d"),c=function(n){var e=n._id,i=n.drink,o=n.drinkThumb,c=n.description;return'<li class="cocktails-item" id="'.concat(e,'">\n                    <img class="cocktails-image" src="').concat(o,'" alt="foto ').concat(i,'" />\n                    <h3 class="cocktails-name">').concat(i,'</h3>\n                    <p class="cocktails-description">').concat(c,'</p>\n                    <div class="cocktails-buttons">\n                    <button class="cocktails-button" data-id="').concat(e,'">learn more</button>\n                    <button class="cocktails-button-favorite" data-id="').concat(e,'">\n                    <svg class="icon" viewBox="0 0 24 24">\n                    ').concat(t(a),"\n                    </svg>\n                    </button>\n                    </div>\n          </li>")}})),o.register("9J42d",(function(t,n){t.exports='<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.501 5.501 0 1 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78Z" stroke="#FDFDFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>'})),o.register("cexwo",(function(e,i){n(e.exports,"getCardInfo",(function(){return p}));var a=o("8nrFW"),c=o("8Rxzn"),r=o("c0VDp");o("iMJC0"),o("9cv59"),o("iMJC0");var s=o("ri2fH"),d=o("fS5Ro"),l=o("4Nugj"),u=[];(0,c.getCocktails)().then((function(t){u=t}));var f="ADD TO FAVORITE",v="REMOVE FROM FAVORITE",k={backdrop:document.querySelector(".cocktails-modal-backdrop"),cocktailsModal:document.querySelector(".cocktails-modal"),cocktailsModalContent:document.querySelector(".cocktails-modal-content"),modalCloseBtn:document.querySelector(".modal-close-btn")};function p(t){k.backdrop.classList.remove("is-hidden"),k.cocktailsModal.classList.remove("is-hidden");var n=t.target.getAttribute("data-id"),e=function(t){var n=t._id,e=t.drink,i=t.glass,a=t.instructions,o=t.drinkThumb,c=t.ingredients,r=-1!==(JSON.parse(localStorage.getItem("favoriteCocktails"))||[]).findIndex((function(t){return t._id===n}))?v:f;return'<div class="cocktails-info">\n  <img\n  src="'.concat(o,'"\n  alt="').concat(i,'"\n  class="cocktails-img"\n  width="288"\n/>\n<div class="cocktails-desc">\n  <h3 class="cocktails-title">').concat(e,'<b></b></h3>\n  <h3 class="cocktails-ingredients-title"><b>INGREDIENTS:</b></h3>\n  <ul class="ingredients-list">\n    ').concat(c.map((function(t){var n=t.title,e=t.ingredientId;return'\n    <li>\n      <button\n        type="button"\n        class="ingredient-element"\n        data-id="'.concat(e,'"\n      >\n        ').concat(n,"\n      </button>\n    </li>\n    ")})).join(""),'\n  </ul>\n</div>\n</div>\n\n<h3 class="cocktails-instructions-title"><b>INSTRUCTIONS:</b></h3>\n<p class="cocktails-instructions">').concat(a,'</p>\n<div class="cocktails-btn">\n    <button class="cocktail-add-favorite-btn" type="button">\n      ').concat(r,'\n    </button>\n    <button class="cocktail-back-btn" type="button" data-modal-close>\n      BACK\n    </button>\n  </div>')}(u.find((function(t){return t._id===n})));k.cocktailsModalContent.insertAdjacentHTML("beforeend",e);var i=document.querySelector(".cocktail-add-favorite-btn");i.setAttribute("data-id",n);var a=document.querySelectorAll(".cocktail-back-btn");k.backdrop.addEventListener("click",(function(){k.cocktailsModalContent.innerHTML="",k.backdrop.classList.add("is-hidden"),k.cocktailsModal.classList.add("is-hidden")}));var o=t.target.parentElement.querySelector(".cocktails-button-favorite");i.addEventListener("click",(function(t){return g(t,o)})),document.querySelectorAll(".ingredients-list").forEach((function(t){t.addEventListener("click",(function(t){if("BUTTON"===t.target.nodeName){var n=t.target.dataset.id;(0,s.getIngredients)(n).then((function(t){var e=t[0],i=(0,d.modalContent)(t[0]);l.default.ingredientModalContent.insertAdjacentHTML("beforeend",i),localStorage.setItem("currentIngredient",JSON.stringify(e)),l.default.backdrop.classList.add("isShow"),l.default.ingredientModal.classList.add("isShow"),(0,d.setFavoriteButtonContent)(n),l.default.ingredientModalFavoriteButton.addEventListener("click",d.handleAddToFavorite)}))}}))})),a.forEach((function(t){return t.addEventListener("click",(function(){k.cocktailsModalContent.innerHTML="",k.backdrop.classList.add("is-hidden"),k.cocktailsModal.classList.add("is-hidden")}))})),k.modalCloseBtn.addEventListener("click",(function(){k.cocktailsModalContent.innerHTML="",k.backdrop.classList.add("is-hidden"),k.cocktailsModal.classList.add("is-hidden")}))}var g=function(n,e){var i=n.target.getAttribute("data-id"),o=u.find((function(t){return t._id===i})),c=document.querySelector(".cocktail-add-favorite-btn"),s=JSON.parse(localStorage.getItem("favoriteCocktails"))||[];if(n.target.innerText===f)(0,r.markAsFavorite)(e),localStorage.setItem("favoriteCocktails",JSON.stringify(t(a)(s).concat([o]))),c.textContent=v;else{var d=s.filter((function(t){return t._id!==i}));localStorage.setItem("favoriteCocktails",JSON.stringify(d)),c.textContent=f,(0,r.markAsFavorite)(e)}}})),o.register("8Rxzn",(function(e,i){n(e.exports,"getCocktails",(function(){return d}));var a=o("bpxeT"),c=o("2TvXO"),r=o("dIxxU");r.default.defaults.baseURL="https://drinkify.b.goit.study/api/v1";var s,d=(s=t(a)(t(c).mark((function n(){var e;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,r.default)("/cocktails/lookup/");case 3:return e=t.sent.data,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Something goes wrong!");case 10:case"end":return t.stop()}}),n,null,[[0,7]])}))),function(){return s.apply(this,arguments)})})),o.register("c0VDp",(function(t,e){function i(t,n){var e=t.currentTarget.getAttribute("data-id"),i=JSON.parse(localStorage.getItem("favoriteCocktails"))||[],o=i.findIndex((function(t){return t._id===e}));if(-1===o){var c=n.find((function(t){return t._id===e}));i.push(c),a(t.currentTarget)}else i.splice(o,1),a(t.currentTarget);localStorage.setItem("favoriteCocktails",JSON.stringify(i))}function a(t){var n=t.firstElementChild;n.classList.contains("isFavorite")?n.classList.remove("isFavorite"):n.classList.add("isFavorite")}n(t.exports,"favoriteHandler",(function(){return i})),n(t.exports,"markAsFavorite",(function(){return a}))})),o.register("iMJC0",(function(n,e){var i,a,c=o("bpxeT"),r=o("2TvXO"),s=o("dIxxU"),d=o("9cv59"),l=o("cexwo"),u=o("c0VDp"),f="https://drinkify.b.goit.study/api/v1/",v=document.querySelector(".random-cocktails .cocktails-list"),k=document.body.clientWidth,p=document.querySelector(".empty-search"),g=document.querySelector(".random-cocktails");function b(){return(b=t(c)(t(r).mark((function n(e){var i;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f+"cocktails",t.next=4,s.default.get("https://drinkify.b.goit.study/api/v1/cocktails",{params:{r:e}});case 4:return i=t.sent,t.abrupt("return",i.data);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),p.classList.remove("isHidden"),g.classList.add("isHidden");case 13:case"end":return t.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}(function(t){return b.apply(this,arguments)})((i=k,a=8,i>1279&&(a=9),a)).then((function(t){return e=v,i=(n=t).map((function(t){return(0,d.createMarkupCocktail)(t)})).join(""),e.innerHTML=i,document.querySelectorAll(".cocktails-button").forEach((function(t){t.addEventListener("click",l.getCardInfo)})),void document.querySelectorAll(".cocktails-button-favorite").forEach((function(t){t.addEventListener("click",(function(t){return(0,u.favoriteHandler)(t,n)}))}));var n,e,i}))}))}();
//# sourceMappingURL=index.01eeafc8.js.map

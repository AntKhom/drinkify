function t(t){return t&&t.__esModule?t.default:t}function e(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},a=n.parcelRequired7c6;null==a&&((a=function(t){if(t in i)return i[t].exports;if(t in o){var e=o[t];delete o[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){o[t]=e},n.parcelRequired7c6=a),a.register("BLqxg",(function(n,i){e(n.exports,"createMarkupCocktail",(function(){return c}));var o=a("g8U0X");const c=e=>{const{_id:n,drink:i,drinkThumb:a,description:c}=e;return`<li class="cocktails-item" id="${n}">\n                    <img class="cocktails-image" src="${a}" alt="foto ${i}" />\n                    <h3 class="cocktails-name">${i}</h3>\n                    <p class="cocktails-description">${c}</p>\n                    <div class="cocktails-buttons">\n                    <button class="cocktails-button" data-id="${n}">learn more</button>\n                    <button class="cocktails-button-favorite" data-id="${n}">\n                    <svg class="icon" viewBox="0 0 24 24">\n                    ${t(o)}\n                    </svg>\n                    </button>\n                    </div>\n          </li>`}})),a.register("g8U0X",(function(t,e){t.exports='<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.501 5.501 0 1 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78Z" stroke="#FDFDFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>'})),a.register("3Hfdp",(function(t,n){e(t.exports,"getCardInfo",(function(){return f}));var i=a("gaDmu"),o=a("kPTke");a("5Firc"),a("BLqxg"),a("5Firc");var c=a("2Zoty"),s=a("hTlgY"),r=a("krGWQ");let l=[];(0,i.getCocktails)().then((t=>{l=t}));const d="ADD TO FAVORITE",u="REMOVE FROM FAVORITE",k={backdrop:document.querySelector(".cocktails-modal-backdrop"),cocktailsModal:document.querySelector(".cocktails-modal"),cocktailsModalContent:document.querySelector(".cocktails-modal-content"),modalCloseBtn:document.querySelector(".modal-close-btn")};function f(t){k.backdrop.classList.remove("is-hidden"),k.cocktailsModal.classList.remove("is-hidden");const e=t.target.getAttribute("data-id"),n=function(t){const{_id:e,drink:n,glass:i,instructions:o,drinkThumb:a,ingredients:c}=t,s=-1!==(JSON.parse(localStorage.getItem("favoriteCocktails"))||[]).findIndex((t=>t._id===e))?u:d;return`<div class="cocktails-info">\n  <img\n  src="${a}"\n  alt="${i}"\n  class="cocktails-img"\n  width="288"\n/>\n<div class="cocktails-desc">\n  <h3 class="cocktails-title">${n}<b></b></h3>\n  <h3 class="cocktails-ingredients-title"><b>INGREDIENTS:</b></h3>\n  <ul class="ingredients-list">\n    ${c.map((({title:t,ingredientId:e})=>`\n    <li>\n      <button\n        type="button"\n        class="ingredient-element"\n        data-id="${e}"\n      >\n        ${t}\n      </button>\n    </li>\n    `)).join("")}\n  </ul>\n</div>\n</div>\n\n<h3 class="cocktails-instructions-title"><b>INSTRUCTIONS:</b></h3>\n<p class="cocktails-instructions">${o}</p>\n<div class="cocktails-btn">\n    <button class="cocktail-add-favorite-btn" type="button">\n      ${s}\n    </button>\n    <button class="cocktail-back-btn" type="button" data-modal-close>\n      BACK\n    </button>\n  </div>`}(l.find((t=>t._id===e)));k.cocktailsModalContent.insertAdjacentHTML("beforeend",n);const i=document.querySelector(".cocktail-add-favorite-btn");i.setAttribute("data-id",e);const o=document.querySelectorAll(".cocktail-back-btn");k.backdrop.addEventListener("click",(()=>{k.cocktailsModalContent.innerHTML="",k.backdrop.classList.add("is-hidden"),k.cocktailsModal.classList.add("is-hidden")}));const a=t.target.parentElement.querySelector(".cocktails-button-favorite");i.addEventListener("click",(t=>g(t,a))),document.querySelectorAll(".ingredients-list").forEach((t=>{t.addEventListener("click",(t=>{if("BUTTON"===t.target.nodeName){const e=t.target.dataset.id;(0,c.getIngredients)(e).then((t=>{const n=t[0],i=(0,s.modalContent)(t[0]);r.default.ingredientModalContent.insertAdjacentHTML("beforeend",i),localStorage.setItem("currentIngredient",JSON.stringify(n)),r.default.backdrop.classList.add("isShow"),r.default.ingredientModal.classList.add("isShow"),(0,s.setFavoriteButtonContent)(e),r.default.ingredientModalFavoriteButton.addEventListener("click",s.handleAddToFavorite)}))}}))})),o.forEach((t=>t.addEventListener("click",(()=>{k.cocktailsModalContent.innerHTML="",k.backdrop.classList.add("is-hidden"),k.cocktailsModal.classList.add("is-hidden")})))),k.modalCloseBtn.addEventListener("click",(()=>{k.cocktailsModalContent.innerHTML="",k.backdrop.classList.add("is-hidden"),k.cocktailsModal.classList.add("is-hidden")}))}const g=(t,e)=>{const n=t.target.getAttribute("data-id"),i=l.find((t=>t._id===n)),a=document.querySelector(".cocktail-add-favorite-btn"),c=JSON.parse(localStorage.getItem("favoriteCocktails"))||[];if(t.target.innerText===d)(0,o.markAsFavorite)(e),localStorage.setItem("favoriteCocktails",JSON.stringify([...c,i])),a.textContent=u;else{const t=c.filter((t=>t._id!==n));localStorage.setItem("favoriteCocktails",JSON.stringify(t)),a.textContent=d,(0,o.markAsFavorite)(e)}}})),a.register("gaDmu",(function(t,n){e(t.exports,"getCocktails",(function(){return o}));var i=a("2shzp");i.default.defaults.baseURL="https://drinkify.b.goit.study/api/v1";const o=async()=>{try{const{data:t}=await(0,i.default)("/cocktails/lookup/");return t}catch(t){throw new Error("Something goes wrong!")}}})),a.register("kPTke",(function(t,n){function i(t,e){const n=t.currentTarget.getAttribute("data-id"),i=JSON.parse(localStorage.getItem("favoriteCocktails"))||[],a=i.findIndex((t=>t._id===n));if(-1===a){const a=e.find((t=>t._id===n));i.push(a),o(t.currentTarget)}else i.splice(a,1),o(t.currentTarget);localStorage.setItem("favoriteCocktails",JSON.stringify(i))}function o(t){const e=t.firstElementChild;e.classList.contains("isFavorite")?e.classList.remove("isFavorite"):e.classList.add("isFavorite")}e(t.exports,"favoriteHandler",(function(){return i})),e(t.exports,"markAsFavorite",(function(){return o}))})),a.register("5Firc",(function(t,e){var n=a("2shzp"),i=a("BLqxg"),o=a("3Hfdp"),c=a("kPTke");const s=document.querySelector(".random-cocktails .cocktails-list"),r=document.body.clientWidth,l=document.querySelector(".empty-search"),d=document.querySelector(".random-cocktails");(async function(t){try{const e="https://drinkify.b.goit.study/api/v1/cocktails";return(await n.default.get(e,{params:{r:t}})).data}catch(t){console.log(t),l.classList.remove("isHidden"),d.classList.add("isHidden")}})((t=>{let e=8;return t>1279&&(e=9),e})(r)).then((t=>function(t,e){const n=t.map((t=>(0,i.createMarkupCocktail)(t))).join("");e.innerHTML=n,document.querySelectorAll(".cocktails-button").forEach((t=>{t.addEventListener("click",o.getCardInfo)})),document.querySelectorAll(".cocktails-button-favorite").forEach((e=>{e.addEventListener("click",(e=>(0,c.favoriteHandler)(e,t)))}))}(t,s)))}));
//# sourceMappingURL=index.0f775370.js.map

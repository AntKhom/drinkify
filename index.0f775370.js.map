{"mappings":"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","sources":["src/js/create-markup-cocktail.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-5363bcc24f654364.js","src/js/cocktails-modal.js","src/js/cocktail-api.js","src/js/favorite.js","src/js/get-random-cocktails.js"],"sourcesContent":["import svg from 'bundle-text:/src/images/favorite.svg';\n\nexport const createMarkupCocktail = cocktail => {\n  const { _id, drink, drinkThumb, description } = cocktail;\n  return `<li class=\"cocktails-item\" id=\"${_id}\">\n                    <img class=\"cocktails-image\" src=\"${drinkThumb}\" alt=\"foto ${drink}\" />\n                    <h3 class=\"cocktails-name\">${drink}</h3>\n                    <p class=\"cocktails-description\">${description}</p>\n                    <div class=\"cocktails-buttons\">\n                    <button class=\"cocktails-button\" data-id=\"${_id}\">learn more</button>\n                    <button class=\"cocktails-button-favorite\" data-id=\"${_id}\">\n                    <svg class=\"icon\" viewBox=\"0 0 24 24\">\n                    ${svg}\n                    </svg>\n                    </button>\n                    </div>\n          </li>`;\n};\n","module.exports = \"b8f8e2efa2050822\";","import { getCocktails } from './cocktail-api';\nimport { favoriteHandler, markAsFavorite } from './favorite';\nimport { renderCocktails } from './get-random-cocktails';\nimport { createMarkupCocktail } from './create-markup-cocktail';\nimport { fetchRandomCocktails } from './get-random-cocktails';\nimport { getIngredients } from './services';\nimport {\n  setFavoriteButtonContent,\n  modalContent as modalIngredientContent,\n  handleAddToFavorite,\n} from './ingredient-modal';\nimport refs from './refs';\n\nlet cocktails = [];\ngetCocktails().then(data => {\n  cocktails = data;\n  // console.log(data);\n});\n\nconst ADD_TO_FAVORITE = 'ADD TO FAVORITE';\nconst REMOVE_FROM_FAVORITE = 'REMOVE FROM FAVORITE';\n\n// console.log(cocktails);\n\nconst modal = {\n  backdrop: document.querySelector('.cocktails-modal-backdrop'),\n  cocktailsModal: document.querySelector('.cocktails-modal'),\n  cocktailsModalContent: document.querySelector('.cocktails-modal-content'),\n  modalCloseBtn: document.querySelector('.modal-close-btn'),\n};\n\n// Розмітка для модалки\nfunction renderModalContent(chosenElement) {\n  const { _id, drink, glass, instructions, drinkThumb, ingredients } =\n    chosenElement;\n  const favoriteCocktails =\n    JSON.parse(localStorage.getItem('favoriteCocktails')) || [];\n  const isCocktailInStorage =\n    favoriteCocktails.findIndex(item => item._id === _id) !== -1;\n  const btnText = !isCocktailInStorage ? ADD_TO_FAVORITE : REMOVE_FROM_FAVORITE;\n  return `<div class=\"cocktails-info\">\n  <img\n  src=\"${drinkThumb}\"\n  alt=\"${glass}\"\n  class=\"cocktails-img\"\n  width=\"288\"\n/>\n<div class=\"cocktails-desc\">\n  <h3 class=\"cocktails-title\">${drink}<b></b></h3>\n  <h3 class=\"cocktails-ingredients-title\"><b>INGREDIENTS:</b></h3>\n  <ul class=\"ingredients-list\">\n    ${ingredients\n      .map(\n        ({ title, ingredientId }) => `\n    <li>\n      <button\n        type=\"button\"\n        class=\"ingredient-element\"\n        data-id=\"${ingredientId}\"\n      >\n        ${title}\n      </button>\n    </li>\n    `\n      )\n      .join('')}\n  </ul>\n</div>\n</div>\n\n<h3 class=\"cocktails-instructions-title\"><b>INSTRUCTIONS:</b></h3>\n<p class=\"cocktails-instructions\">${instructions}</p>\n<div class=\"cocktails-btn\">\n    <button class=\"cocktail-add-favorite-btn\" type=\"button\">\n      ${btnText}\n    </button>\n    <button class=\"cocktail-back-btn\" type=\"button\" data-modal-close>\n      BACK\n    </button>\n  </div>`;\n}\n\n// Фунуція для виклику модалки\nexport function getCardInfo(event) {\n  // З'являється модалка\n  modal.backdrop.classList.remove('is-hidden');\n  modal.cocktailsModal.classList.remove('is-hidden');\n\n  // У ній відбувається рендер карток\n  const cocktailsId = event.target.getAttribute('data-id');\n  const chosenElement = cocktails.find(item => item._id === cocktailsId);\n  const modalContent = renderModalContent(chosenElement);\n  modal.cocktailsModalContent.insertAdjacentHTML('beforeend', modalContent);\n\n  const cocktailsModaFavoriteBtn = document.querySelector(\n    '.cocktail-add-favorite-btn'\n  );\n  cocktailsModaFavoriteBtn.setAttribute('data-id', cocktailsId);\n  const backBtn = document.querySelectorAll('.cocktail-back-btn');\n\n  //Закриття модалки при кліку на бекдроп\n  modal.backdrop.addEventListener('click', () => {\n    modal.cocktailsModalContent.innerHTML = '';\n    modal.backdrop.classList.add('is-hidden');\n    modal.cocktailsModal.classList.add('is-hidden');\n  });\n\n  const favouriteSvg = event.target.parentElement.querySelector(\n    '.cocktails-button-favorite'\n  );\n  cocktailsModaFavoriteBtn.addEventListener('click', event =>\n    handlerAddToFavotiteCocktail(event, favouriteSvg)\n  );\n\n  document.querySelectorAll('.ingredients-list').forEach(item => {\n    item.addEventListener('click', e => {\n      if (e.target.nodeName === 'BUTTON') {\n        const ingredientId = e.target.dataset.id;\n\n        getIngredients(ingredientId).then(res => {\n          const currentIngredient = res[0];\n          const modalContentMarkup = modalIngredientContent(res[0]);\n          refs.ingredientModalContent.insertAdjacentHTML(\n            'beforeend',\n            modalContentMarkup\n          );\n          localStorage.setItem(\n            'currentIngredient',\n            JSON.stringify(currentIngredient)\n          );\n          refs.backdrop.classList.add('isShow');\n          refs.ingredientModal.classList.add('isShow');\n          setFavoriteButtonContent(ingredientId);\n          refs.ingredientModalFavoriteButton.addEventListener(\n            'click',\n            handleAddToFavorite\n          );\n        });\n      }\n    });\n  });\n\n  // Закриття модалки при кліку на кнопку\n  backBtn.forEach(button =>\n    button.addEventListener('click', () => {\n      modal.cocktailsModalContent.innerHTML = '';\n      modal.backdrop.classList.add('is-hidden');\n      modal.cocktailsModal.classList.add('is-hidden');\n    })\n  );\n\n  // Закриття модалки при кліку на іконку\n  modal.modalCloseBtn.addEventListener('click', () => {\n    modal.cocktailsModalContent.innerHTML = '';\n    modal.backdrop.classList.add('is-hidden');\n    modal.cocktailsModal.classList.add('is-hidden');\n  });\n}\n\nconst handlerAddToFavotiteCocktail = (e, favouriteSvg) => {\n  const id = e.target.getAttribute('data-id');\n  const chosenCocktail = cocktails.find(item => item._id === id);\n  const cocktailsModaFavoriteBtn = document.querySelector(\n    '.cocktail-add-favorite-btn'\n  );\n  const favoriteCocktails =\n    JSON.parse(localStorage.getItem('favoriteCocktails')) || [];\n\n  if (e.target.innerText === ADD_TO_FAVORITE) {\n    markAsFavorite(favouriteSvg);\n    localStorage.setItem(\n      'favoriteCocktails',\n      JSON.stringify([...favoriteCocktails, chosenCocktail])\n    );\n    cocktailsModaFavoriteBtn.textContent = REMOVE_FROM_FAVORITE;\n  } else {\n    const filteredArr = favoriteCocktails.filter(item => item._id !== id);\n    localStorage.setItem('favoriteCocktails', JSON.stringify(filteredArr));\n    cocktailsModaFavoriteBtn.textContent = ADD_TO_FAVORITE;\n    markAsFavorite(favouriteSvg);\n  }\n};\n","import axios from 'axios';\n\nexport const base_url = 'https://drinkify.b.goit.study/api/v1';\n\naxios.defaults.baseURL = base_url;\n\nexport const getCocktails = async () => {\n  try {\n    const { data } = await axios(`/cocktails/lookup/`);\n    return data;\n  } catch (error) {\n    throw new Error('Something goes wrong!');\n  }\n};\n","export function favoriteHandler(event, cocktails) {\n  // console.log(cocktails);\n  const id = event.currentTarget.getAttribute('data-id');\n  const favoriteCocktails =\n    JSON.parse(localStorage.getItem('favoriteCocktails')) || [];\n  const index = favoriteCocktails.findIndex(item => item._id === id);\n  if (index === -1) {\n    const chosenCocktail = cocktails.find(item => item._id === id);\n    favoriteCocktails.push(chosenCocktail);\n    markAsFavorite(event.currentTarget);\n  } else {\n    favoriteCocktails.splice(index, 1);\n    markAsFavorite(event.currentTarget);\n  }\n  localStorage.setItem('favoriteCocktails', JSON.stringify(favoriteCocktails));\n}\n\nexport function markAsFavorite(event) {\n  const svg = event.firstElementChild;\n  if (!svg.classList.contains('isFavorite')) {\n    svg.classList.add('isFavorite');\n  } else {\n    svg.classList.remove('isFavorite');\n  }\n}\n","import axios from 'axios';\nimport { createMarkupCocktail } from './create-markup-cocktail';\nimport { getCardInfo } from './cocktails-modal';\nimport { favoriteHandler } from './favorite';\n\nconst BASE_URL = 'https://drinkify.b.goit.study/api/v1/';\nconst cocktailsListEl = document.querySelector(\n  '.random-cocktails .cocktails-list'\n);\n\nconst innerWidth = document.body.clientWidth;\nconst emptySearchContainer = document.querySelector('.empty-search');\nconst randomCocktailsContainer = document.querySelector('.random-cocktails');\n\nconst numberOfRandomCocktails = innerWidth => {\n  let amount = 8;\n  if (innerWidth > 1279) {\n    amount = 9;\n  }\n  // console.log(innerWidth, amount);\n  return amount;\n};\n\nexport async function fetchRandomCocktails(numberOfRandomCocktails) {\n  try {\n    const finalUrl = BASE_URL + 'cocktails';\n    // console.log(finalUrl);\n    const response = await axios.get(finalUrl, {\n      params: {\n        r: numberOfRandomCocktails,\n      },\n    });\n    // console.log(response);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    emptySearchContainer.classList.remove('isHidden');\n    randomCocktailsContainer.classList.add('isHidden');\n  }\n}\n\nexport function renderCocktails(arr, container) {\n  const markup = arr.map(item => createMarkupCocktail(item)).join('');\n  container.innerHTML = markup;\n  const learnMoreBtns = document.querySelectorAll('.cocktails-button');\n  learnMoreBtns.forEach(button => {\n    button.addEventListener('click', getCardInfo);\n  });\n\n  const favBtn = document.querySelectorAll('.cocktails-button-favorite');\n  favBtn.forEach(bfv => {\n    bfv.addEventListener('click', event => favoriteHandler(event, arr));\n  });\n}\n\nfetchRandomCocktails(numberOfRandomCocktails(innerWidth)).then(res =>\n  renderCocktails(res, cocktailsListEl)\n);\n"],"names":["$g8U0X","parcelRequire","$07183ed4425a65bb$export$ae5a0ec9e5ac1dce","cocktail","_id","drink","drinkThumb","description","$parcel$interopDefault","module","exports","$gaDmu","$2b1130b4c92af4bf$var$cocktails","getCocktails","then","data","$2b1130b4c92af4bf$var$ADD_TO_FAVORITE","$2b1130b4c92af4bf$var$REMOVE_FROM_FAVORITE","$2b1130b4c92af4bf$var$modal","backdrop","document","querySelector","cocktailsModal","cocktailsModalContent","modalCloseBtn","$2b1130b4c92af4bf$export$84469a0c966a39f0","event1","classList","remove","cocktailsId","target","getAttribute","modalContent","chosenElement","glass","instructions","ingredients","btnText","JSON","parse","localStorage","getItem","findIndex","item","map","title","ingredientId","join","$2b1130b4c92af4bf$var$renderModalContent","find","insertAdjacentHTML","cocktailsModaFavoriteBtn","setAttribute","backBtn","querySelectorAll","addEventListener","innerHTML","add","favouriteSvg","parentElement","event","$2b1130b4c92af4bf$var$handlerAddToFavotiteCocktail","forEach","e","nodeName","dataset","id","$2Zoty","getIngredients","res","currentIngredient","modalContentMarkup","$hTlgY","$krGWQ","default","ingredientModalContent","setItem","stringify","ingredientModal","setFavoriteButtonContent","ingredientModalFavoriteButton","handleAddToFavorite","button","chosenCocktail","favoriteCocktails","innerText","$kPTke","markAsFavorite","textContent","filteredArr","filter","$2shzp","defaults","baseURL","$bc5c1cef2221ce76$export$83775b63d9105305","async","error","Error","$f2b37c882cc80f12$export$aef3fdcd53557853","cocktails","currentTarget","index","push","$f2b37c882cc80f12$export$bc8b72c3972d3c0e","splice","svg","firstElementChild","contains","$41ff1572618f1d01$var$cocktailsListEl","$41ff1572618f1d01$var$innerWidth","body","clientWidth","$41ff1572618f1d01$var$emptySearchContainer","$41ff1572618f1d01$var$randomCocktailsContainer","numberOfRandomCocktails1","finalUrl","$41ff1572618f1d01$var$BASE_URL","get","params","r","console","log","$41ff1572618f1d01$export$873bae7cec94212e","innerWidth1","amount","$41ff1572618f1d01$var$numberOfRandomCocktails","arr","container","markup","$BLqxg","createMarkupCocktail","$3Hfdp","getCardInfo","bfv","favoriteHandler","$41ff1572618f1d01$export$b242b1b222191e8f"],"version":3,"file":"index.0f775370.js.map"}